(this.webpackJsonpabz_agency_test=this.webpackJsonpabz_agency_test||[]).push([[0],{105:function(e,t,a){e.exports=a(249)},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),l=(a(110),a(111),function(){document.documentElement.clientWidth;return r.a.createElement("header",{className:"intro"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"intro-bg-image"},r.a.createElement("div",{className:"intro-content"},r.a.createElement("div",{className:"intro-text"},r.a.createElement("h1",null,"Test assignment",r.a.createElement("br",null)," for Frontend ",r.a.createElement("br",null)," Developer position"),r.a.createElement("p",{className:"text"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository. Please be patient, we consider and respond to every application that meets minimum requirements. We look forward to your submission. Good luck! The photo has to scale in the banner area on the different screens"),r.a.createElement("p",{className:"text-mobile"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository."),r.a.createElement("a",{className:"btn",href:"/tt/#register"},r.a.createElement("span",{className:"btn-text"},"Sign up now")))))))}),i=(a(112),a(90)),o=a.n(i),u=function(){return r.a.createElement("section",{className:"acquainted"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"acquainted-title"},"Let's get acquainted"),r.a.createElement("div",{className:"row acquainted-content justify-content-between"},r.a.createElement("div",{className:"acquainted-img col-md-5 col-sm-4"},r.a.createElement("img",{src:o.a,alt:"acquainted"})),r.a.createElement("div",{className:"acquainted-text col-md-7 col-sm-8"},r.a.createElement("h4",null,"I am cool frontend developer"),r.a.createElement("p",null,"We will evaluate how clean your approach to writing CSS and Javascript code is. You can use any CSS and Javascript 3rd party libraries without any restriction."),r.a.createElement("p",null,"If 3rd party css/javascript libraries are added to the project via bower/npm/yarn you will get bonus points. If you use any task runner (gulp/webpack) you will get bonus points as well. Slice service directory page P\u200bSD mockup\u200b into HTML5/CSS3."),r.a.createElement("a",{href:"#register",className:"acquainted-btn-sing-up"},"Sing up now")))))},m=a(15),p=(a(113),a(41)),d=a.n(p),E=a(91),f=a.n(E),b=(a(114),[[{text:"About me"},{text:"Relationships"},{text:"Users"},{text:"Sign Up"},{text:"Terms and Conditions"}],[{text:"How it works"},{text:"Partnership"},{text:"Help"},{text:"Leave testimonial"},{text:"Contact us"}],[{text:"Articles"},{text:"Our news"},{text:"Testimonials"},{text:"Licenses"},{text:"Privacy Policy"}]]),v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"opacity-bg ".concat(e.open?"open":""),onClick:e.closeMenu}),r.a.createElement("div",{className:"left-menu ".concat(e.open?"open":"")},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:d.a,alt:"logo"})),b.map((function(t,a){return r.a.createElement("div",{className:"left-menu-block",key:a},r.a.createElement("ul",null,t.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{href:"/tt/#register","data-id":a,onClick:e.closeMenu},t.text))}))))}))))},h=[{text:"About me",active:!1},{text:"Relationships",active:!1},{text:"Requirements",active:!1},{text:"Users",active:!1},{text:"Sign Up",active:!1}],g=function(){var e=Object(n.useState)(h),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(m.a)(s,2),i=l[0],o=l[1],u=function(e){var t=e.target.dataset.id;c(a.map((function(e,a){return e.active=!1,a.toString()===t&&(e.active=!0),e})))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg d-flex align-items-center"},r.a.createElement("div",{className:"container d-flex justify-content-between align-items-center"},r.a.createElement("a",{className:"navbar-brand",href:"#"},r.a.createElement("img",{onClick:function(e){return u(e)},src:d.a,alt:"logo"})),r.a.createElement("img",{className:"burger",src:f.a,alt:"",onClick:function(){o(!0)}}),r.a.createElement("ul",{className:"navbar-nav flex-row "},a.map((function(e,t){return r.a.createElement("li",{className:"nav-item",key:t},r.a.createElement("a",{href:"/tt/#register","data-id":t,onClick:function(e){return u(e)},className:"nav-link ".concat(e.active?"active":"")},e.text))}))))),r.a.createElement(v,{open:i,closeMenu:function(){o(!1)}}))},y=(a(115),function(e){var t=e.children;return r.a.createElement("main",{className:"wrapper"},t)}),O=a(101),S=a(46),_=(a(116),function(e,t){return!e.includes(" ")&&e.length>t&&(e=e.slice(0,t)+"..."),e}),N=function(e){var t=e.user,a=Object(n.useRef)(null),c=Object(n.useState)("21px"),s=Object(m.a)(c,2),l=s[0],i=s[1];return Object(n.useEffect)((function(){a.current.clientWidth>170&&i("17px")}),[]),t?r.a.createElement("div",{className:"card-wrap"},r.a.createElement("div",{className:"user-card"},r.a.createElement("div",{className:"card-info"},r.a.createElement("img",{src:t.photo,alt:"user"}),r.a.createElement(S.a,{placement:"top",arrow:!1,delay:700,content:r.a.createElement("div",{className:"react-tooltip"},r.a.createElement("span",null,t.name))},r.a.createElement("h4",{className:"name",style:{paddingBottom:l},ref:a},_(t.name,15))),r.a.createElement(S.a,{placement:"bottom",arrow:!1,delay:700,content:r.a.createElement("div",{className:"react-tooltip"},r.a.createElement("span",null,t.email))},r.a.createElement("p",{className:"specialty"},t.position)),r.a.createElement(S.a,{placement:"bottom",arrow:!1,delay:700,content:r.a.createElement("div",{className:"react-tooltip"},r.a.createElement("span",null,t.email))},r.a.createElement("p",{className:"email"},_(t.email,20))),r.a.createElement("p",{className:"phone"},t.phone)))):"No user"},j=(a(117),function(e){var t=e.users;return r.a.createElement("div",{className:"users-list d-flex flex-wrap justify-content-between"},t.filter((function(e){return void 0!==e})).sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})).map((function(e,t){return r.a.createElement(N,{key:t,user:e})})))}),x=(a(118),function(){return r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))}),w=(a(119),a(5)),k=a(4),T=a.n(k),C=a(11),U=a(14),R=a.n(U),q="https://frontend-test-assignment-api.abz.agency/api/v1/",G={getUsersTabletStartPage:"".concat(q,"users?page=1&count=").concat(6),getUsersMobileStartPage:"".concat(q,"users?page=1&count=").concat(3)};var M=function(){return function(){var e=Object(C.a)(T.a.mark((function e(t){var a,n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=6");case 3:a=e.sent,n=a.data,r=n.users.sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})),t({type:"GET_USERS",payload:r}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return{type:"TOGGLE_IS_FETCHING",payload:e}},F=function(e){return{type:"SET_IS_SUCCESS_MODAL",payload:e}},L=function(e,t){return function(){var a=Object(C.a)(T.a.mark((function a(n){var r;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(P(!0)),a.next=3,R.a.get(e);case 3:return r=a.sent,n(P(!1)),a.abrupt("return",n({type:t,payload:r.data}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},I=function(e){return L(e,"GET_FIRST_USERS")},A=function(){var e=Object(w.d)((function(e){return e.users}),w.b),t=e.users,a=e.totalPages,c=e.nextUrl,s=Object(w.c)(),l=Object(n.useCallback)((function(){var e=window.innerWidth<768?G.getUsersMobileStartPage:G.getUsersTabletStartPage;s(I(e))}),[s]);Object(n.useEffect)((function(){l()}),[l]);var i=Object(w.d)((function(e){return e.toggleIsFetchingReducer.isFetching}));return r.a.createElement("section",{className:"users"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"users-head"},r.a.createElement("h1",null,"Our cheerful users"),r.a.createElement("p",null,"Attention! Sorting users by registration date")),t.length?r.a.createElement(j,{users:t}):r.a.createElement(x,null),c&&new URL(c).searchParams.get("page")<=a&&r.a.createElement("button",{disabled:i,className:"btn-show-more btn",onClick:function(){s(L(c,"GET_NEXT_USERS"))}},"Show more")))},D=(a(141),a(8)),W=(a(142),a(143),function(e){var t=e.text,a=e.type,n=e.handleClick,c=e.submit,s=e.disabled,l=e.className,i="btn ".concat({primary:"btn-primary",flat:"btn-flat"}[a]," ").concat(l),o=c?"submit":"";return r.a.createElement("button",{className:i,onClick:n,disabled:s,type:o},t)}),X=(a(144),function(e){var t=e.children;return r.a.createElement("div",{className:"error"},t)}),z=a(45),H=(a(145),a(95)),Q=a.n(H),J=function(e){var t=e.children,a=e.field,n=e.form,c=e.assistiveText,s=e.maskedPhone,l=Object(z.a)(e,["children","field","form","assistiveText","maskedPhone"]),i=n.errors[a.name]&&n.touched[a.name]?"input--error":"",o=!n.errors[a.name]&&n.touched[a.name]&&n.values[a.name]?"input--required":"",u=!n.errors[a.name]&&n.touched[a.name]&&n.values[a.name]&&"photo"===a.name?"disabled":"",m=n.errors[a.name]?null:r.a.createElement("span",{className:"input__assistive-text"},c);return s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,Object.assign({mask:"+380 99 999 99 99",maskChar:" ",disabled:u},a),(function(e){return r.a.createElement("input",Object.assign({className:"".concat(i," ").concat(o)},l,e),t)})),m):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({className:"".concat(i," ").concat(o)},a,l,{disabled:u}),t),m)},Y=(a(147),function(e){var t=e.positions,a=e.label,n=e.name,c=Object(z.a)(e,["positions","label","name"]);return r.a.createElement("div",{className:"field__control field__control-radio"},r.a.createElement("label",{className:"input-radio-main-label"},a),t.map((function(e){return r.a.createElement(D.b,Object.assign({name:n,key:e.id},c),(function(t){var a=t.field;return r.a.createElement("div",{className:"radio__container"},r.a.createElement("input",Object.assign({},a,{type:"radio",id:"".concat(n).concat(e.id),name:a.name,value:e.id,checked:+a.value===e.id})),r.a.createElement("label",{htmlFor:"".concat(n).concat(e.id)},e.name))}))})),r.a.createElement(D.a,{name:n,component:X}))}),B=(a(148),a(254)),K=function(){var e=Object(w.d)((function(e){return e.modal}),w.b),t=e.showModal,a=e.isSuccess,n=Object(w.d)((function(e){return e.registration}),w.b).requestMessage,c=Object(w.c)(),s=t?"modal modal--active":"modal",l=a?"Great":"Ok",i=a?"Congratulations":"Oops...",o=a?"You have successfully passed the registration":n;return r.a.createElement(B.a,{in:t,timeout:200,classNames:"fade"},r.a.createElement("div",{className:s,onClick:function(){return c({type:"CLOSE_MODAL"})}},r.a.createElement("div",{className:"modal__container"},r.a.createElement("div",{className:"modal__title"},r.a.createElement("h2",null,i),r.a.createElement("div",{className:"modal__close",onClick:function(){return c({type:"CLOSE_MODAL"})}})),r.a.createElement("div",{className:"modal__content"},o),r.a.createElement("div",{className:"modal__button-container"},r.a.createElement(W,{text:l,type:"primary",handleClick:function(){return c({type:"CLOSE_MODAL"})}})))))};var V=function(){return function(){var e=Object(C.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/token");case 3:a=e.sent,n=a.data,t({type:"GET_TOKEN",payload:n.token}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};var $=function(){return function(){var e=Object(C.a)(T.a.mark((function e(t){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/positions");case 3:a=e.sent,n=a.data,t({type:"GET_POSITIONS",payload:n.positions}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};var Z=function(e,t){return function(){var a=Object(C.a)(T.a.mark((function a(n){var r,c,s;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("https://frontend-test-assignment-api.abz.agency/api/v1/users",t,e);case 3:return r=a.sent,c=r.data,n({type:"GET_REQUEST_MESSAGE",payload:c.message}),n({type:"GET_REQUEST_SUCCESS",payload:c.success}),a.abrupt("return",c.success);case 10:return a.prev=10,a.t0=a.catch(0),s=a.t0.response.data,n({type:"GET_REQUEST_MESSAGE",payload:s.message}),n({type:"GET_REQUEST_SUCCESS",payload:s.success}),a.abrupt("return",s.success);case 16:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ee={name:{id:"name",name:"name",type:"text",placeholder:"Your name",assistiveText:""},email:{id:"email",name:"email",type:"email",placeholder:"Your email",assistiveText:""},phone:{id:"phone",name:"phone",type:"tel",placeholder:"+380 XX XXX XX XX",assistiveText:"\u0415nter phone number in open format"},positions:{label:"Select your position",name:"position"},photo:{id:"photo",name:"photo",type:"file",placeholder:"Upload your photo",accept:".jpg, .jpeg"}},te=a(26),ae=te.a({name:te.b().required("Required").min(2,"Name must be more then 1 character").max(60,"Name must be less then 60 characters"),email:te.b().required("Required").email("Invalid email format"),phone:te.b().required("Required").matches(/^\+380 [0-9]{2} [0-9]{3} [0-9]{2} [0-9]{2}$/,"Phone number is not valid"),position:te.b().required("Required"),photo:te.b().required("Required")}),ne=function(){var e=Object(w.d)((function(e){return e.registration}),w.b),t=e.positions,a=e.token,c=Object(w.c)();Object(n.useEffect)((function(){c(V())}),[c]),Object(n.useEffect)((function(){c($())}),[c]);var s=window.innerWidth<768?G.getUsersMobileStartPage:G.getUsersTabletStartPage,l=function(){var e=Object(C.a)(T.a.mark((function e(t,n){var r,l,i,o,u,m;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.resetForm,l=t.phone.split(" ").join(""),i=document.querySelector('input[type="file"]'),(o=new FormData).append("name",t.name),o.append("email",t.email),o.append("phone",l),o.append("position_id",t.position),o.append("photo",i.files[0]),u={headers:{Token:"".concat(a)}},e.next=12,c(Z(u,o));case 12:(m=e.sent)?(r({values:""}),c(F(m)),c({type:"SHOW_MODAL"}),c(M()),c(I(s))):(c(F(m)),c({type:"SHOW_MODAL"}));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.d,{initialValues:{name:"",email:"",phone:"",position:"",photo:""},onSubmit:l,validationSchema:ae},r.a.createElement(D.c,null,r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("div",{className:"field__control"},r.a.createElement(D.b,Object.assign({component:J},ee.name)),r.a.createElement(D.a,{name:"name",component:X})),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("div",{className:"field__control"},r.a.createElement(D.b,Object.assign({component:J},ee.email)),r.a.createElement(D.a,{name:"email",component:X})),r.a.createElement("label",{htmlFor:"phone"},"Phone number"),r.a.createElement("div",{className:"field__control"},r.a.createElement(D.b,Object.assign({component:J},ee.phone,{maskedPhone:!0})),r.a.createElement(D.a,{name:"phone",component:X})),r.a.createElement(Y,Object.assign({},ee.positions,{positions:t})),r.a.createElement("label",{htmlFor:"photo",className:"sign-up-form__label-photo"},"Photo"),r.a.createElement("div",{className:"field__control field__control__file"},r.a.createElement(D.b,Object.assign({component:J},ee.photo)),r.a.createElement(D.a,{name:"photo",component:X})),r.a.createElement("div",{className:"sign-up-form__btn-control"},r.a.createElement(W,{text:"Sign up now",submit:!0,type:"primary"})))),r.a.createElement(K,null))},re=function(e){var t=Object.assign({},e);return r.a.createElement("section",{className:"register",id:"register"},r.a.createElement("div",{className:"register-head"},r.a.createElement("h1",null,"Register to get a work")),r.a.createElement("div",{className:"register-container"},r.a.createElement("p",{className:"attention"},"Attention! After successful registration and alert, update the list of users in the block from the top"),r.a.createElement(ne,t)))},ce=(a(247),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"\xa9 abz.agency specially for the test task"))}),se=a(21),le=a(1),ie={token:"",positions:[],requestMessage:"",requestSuccess:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TOKEN":return Object(le.a)(Object(le.a)({},e),{},{token:n});case"GET_POSITIONS":return Object(le.a)(Object(le.a)({},e),{},{positions:n});case"GET_REQUEST_MESSAGE":return Object(le.a)(Object(le.a)({},e),{},{requestMessage:n});case"GET_REQUEST_SUCCESS":return Object(le.a)(Object(le.a)({},e),{},{requestSuccess:n});default:return e}},ue={showModal:!1,isSuccess:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SHOW_MODAL":return Object(le.a)(Object(le.a)({},e),{},{showModal:!0});case"CLOSE_MODAL":return Object(le.a)(Object(le.a)({},e),{},{showModal:!1});case"SET_IS_SUCCESS_MODAL":return Object(le.a)(Object(le.a)({},e),{},{isSuccess:n});default:return e}},pe=a(6),de={users:[],nextUrl:"",totalPages:0},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USERS":return Object(le.a)(Object(le.a)({},e),{},{users:n});case"GET_FIRST_USERS":return Object(le.a)(Object(le.a)(Object(le.a)({},e),n),{},{nextUrl:n.links.next_url,totalPages:n.total_pages});case"GET_NEXT_USERS":return Object(le.a)(Object(le.a)({},e),{},{count:n.count,page:n.page,links:n.links,nextUrl:n.links.next_url,totalPages:n.total_pages,users:[].concat(Object(pe.a)(e.users),Object(pe.a)(n.users))});default:return e}},fe={isFetching:!1},be=Object(se.combineReducers)({registration:oe,modal:me,users:Ee,toggleIsFetchingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IS_FETCHING":return Object(le.a)(Object(le.a)({},e),{},{isFetching:t.payload});default:return e}}}),ve=a(99),he=a(100),ge=Object(se.createStore)(be,Object(he.composeWithDevTools)(Object(se.applyMiddleware)(ve.a)));var ye=function(){return r.a.createElement(w.a,{store:ge},r.a.createElement(O.a,null,r.a.createElement(g,null),r.a.createElement(l,null),r.a.createElement(y,null,r.a.createElement(u,null),r.a.createElement(A,null),r.a.createElement(re,null),r.a.createElement(ce,null))))};s.a.render(r.a.createElement(ye,null),document.getElementById("root"))},41:function(e,t,a){e.exports=a.p+"static/media/logo.bce28fb7.svg"},90:function(e,t,a){e.exports=a.p+"static/media/man-laptop-v1.f28cb247.svg"},91:function(e,t,a){e.exports=a.p+"static/media/menu icon.63637e94.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.1c4ab176.chunk.js.map